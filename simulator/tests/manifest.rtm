CALL_METHOD  ComponentRef("0293c502780e23621475989d707cd8128e4506362e5fed6ac0c00a")  "withdraw"  Decimal("5.0")  ResourceDefRef("030000000000000000000000000000000000000000000000000004")  Proof(1u32);

CALL_FUNCTION PackageRef("01ff3eae9463d913a0dba37b78896414eadf59ce144a9143c8018f") "GumballMachine" "instantiate_gumball_machine" Decimal("2.0");

TAKE_FROM_WORKTOP  Decimal("2.0") ResourceDefRef("030000000000000000000000000000000000000000000000000004") Bucket("xrd");
CALL_METHOD  ComponentRef("025f87bc67e398f84077cee24378167018bc28c234953bf3c659be")  "buy_gumball"  Bucket("xrd");
ASSERT_WORKTOP_CONTAINS Decimal("3.0") ResourceDefRef("030000000000000000000000000000000000000000000000000004");
ASSERT_WORKTOP_CONTAINS Decimal("1.0") ResourceDefRef("0337db7fa49b39c394cbf36e86c5bc92440726b0b27ba64c721dd2");

TAKE_ALL_FROM_WORKTOP ResourceDefRef("030000000000000000000000000000000000000000000000000004")  Bucket("remaining_xrd");
CREATE_PROOF  Bucket("remaining_xrd")  Proof("badge1");
CLONE_PROOF  Proof("badge1")  Proof("badge2");
DROP_PROOF  Proof("badge2");
DROP_PROOF  Proof("badge1");
RETURN_TO_WORKTOP  Bucket("remaining_xrd");

CALL_METHOD_WITH_ALL_RESOURCES  ComponentRef("0293c502780e23621475989d707cd8128e4506362e5fed6ac0c00a")  "deposit_batch";