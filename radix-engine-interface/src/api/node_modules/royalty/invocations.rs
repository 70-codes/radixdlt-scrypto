use crate::api::types::*;
use crate::blueprints::resource::Bucket;
use crate::*;
use radix_engine_common::data::scrypto::model::Own;
use sbor::rust::collections::BTreeMap;
use sbor::rust::fmt::Debug;
use sbor::rust::prelude::*;

pub const COMPONENT_ROYALTY_BLUEPRINT: &str = "ComponentRoyalty";

pub const COMPONENT_ROYALTY_CREATE_IDENT: &str = "create";

#[derive(
    Debug, Clone, Eq, PartialEq, ScryptoSbor, ManifestCategorize, ManifestEncode, ManifestDecode,
)]
pub struct ComponentRoyaltyCreateInput {
    pub royalty_config: RoyaltyConfig,
}

pub type ComponentRoyaltyCreateOutput = Own;

pub const COMPONENT_ROYALTY_SET_ROYALTY_CONFIG_IDENT: &str = "set_royalty_config";

#[derive(
    Debug, Clone, Eq, PartialEq, ScryptoSbor, ManifestCategorize, ManifestEncode, ManifestDecode,
)]
pub struct ComponentSetRoyaltyConfigInput {
    pub royalty_config: RoyaltyConfig,
}

pub type ComponentSetRoyaltyConfigOutput = ();

pub const COMPONENT_ROYALTY_CLAIM_ROYALTY_IDENT: &str = "claim_royalty";

#[derive(
    Debug, Clone, Eq, PartialEq, ScryptoSbor, ManifestCategorize, ManifestEncode, ManifestDecode,
)]
pub struct ComponentClaimRoyaltyInput {}

pub type ComponentClaimRoyaltyOutput = Bucket;

pub const PACKAGE_ROYALTY_BLUEPRINT: &str = "PackageRoyalty";

pub const PACKAGE_ROYALTY_SET_ROYALTY_CONFIG_IDENT: &str = "PackageRoyalty_set_royalty_config";

#[derive(
    Debug, Clone, Eq, PartialEq, ScryptoSbor, ManifestCategorize, ManifestEncode, ManifestDecode,
)]
pub struct PackageSetRoyaltyConfigInput {
    pub royalty_config: BTreeMap<String, RoyaltyConfig>, // TODO: optimize to allow per blueprint configuration.
}

pub type PackageSetRoyaltyConfigOutput = ();

pub const PACKAGE_ROYALTY_CLAIM_ROYALTY_IDENT: &str = "PackageRoyalty_claim_royalty";

#[derive(
    Debug, Clone, Eq, PartialEq, ScryptoSbor, ManifestCategorize, ManifestEncode, ManifestDecode,
)]
pub struct PackageClaimRoyaltyInput {}

pub type PackageClaimRoyaltyOutput = Bucket;
