use crate::blueprints::resource::*;
use crate::*;
use radix_engine_common::data::scrypto::model::Own;
use sbor::rust::fmt::Debug;
use sbor::rust::prelude::*;

pub const ACCESS_RULES_BLUEPRINT: &str = "AccessRules";

pub const ACCESS_RULES_CREATE_IDENT: &str = "create";

#[derive(
    Debug, Clone, Eq, PartialEq, ScryptoSbor, ManifestCategorize, ManifestEncode, ManifestDecode,
)]
pub struct AccessRulesCreateInput {
    pub protected_module_methods: BTreeMap<MethodKey, Vec<String>>,
    pub authority_rules: Roles,
    pub inner_blueprint_rules: BTreeMap<String, (Roles, BTreeMap<MethodKey, Vec<String>>)>,
}

pub type AccessRulesCreateOutput = Own;

pub const ACCESS_RULES_SET_AUTHORITY_RULE_AND_MUTABILITY_IDENT: &str =
    "set_authority_rule_and_mutability";

#[derive(
    Debug, Clone, Eq, PartialEq, ScryptoSbor, ManifestCategorize, ManifestEncode, ManifestDecode,
)]
pub struct AccessRulesSetAuthorityRuleAndMutabilityInput {
    pub object_key: ObjectKey,
    pub authority_key: AuthorityKey,
    pub rule: AccessRule,
    pub mutability: AccessRule,
}

pub type AccessRulesSetAuthorityRuleAndMutabilityOutput = ();

pub const ACCESS_RULES_SET_AUTHORITY_RULE_IDENT: &str = "set_authority_rule";

#[derive(
    Debug, Clone, Eq, PartialEq, ScryptoSbor, ManifestCategorize, ManifestEncode, ManifestDecode,
)]
pub struct AccessRulesSetAuthorityRuleInput {
    pub object_key: ObjectKey,
    pub authority_key: AuthorityKey,
    pub rule: AccessRule,
}

pub type AccessRulesSetAuthorityRuleOutput = ();

pub const ACCESS_RULES_SET_AUTHORITY_MUTABILITY_IDENT: &str = "set_authority_mutability";

#[derive(
    Debug, Clone, Eq, PartialEq, ScryptoSbor, ManifestCategorize, ManifestEncode, ManifestDecode,
)]
pub struct AccessRulesSetAuthorityMutabilityInput {
    pub object_key: ObjectKey,
    pub authority_key: AuthorityKey,
    pub mutability: AccessRule,
}

pub type AccessRulesSetAuthorityMutabilityOutput = ();
